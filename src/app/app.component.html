<div class="container">
  <header>
    <h1>Task Master</h1>
    <div class="stats-bar">
      <strong>{{ taskService.completedCount() }}</strong> of 
      <strong>{{ taskService.totalCount() }}</strong> completed
    </div>
  </header>

  <div class="input-group">
    <input 
      type="text" 
      [(ngModel)]="newTaskTitle" 
      (keyup.enter)="addNewTask()"
      placeholder="What needs to be done?" 
    />
    <button class="add-btn" (click)="addNewTask()">Add</button>
  </div>

  <ul>
    @for (task of taskService.tasks(); track task.id) {
      <li [class.completed]="task.completed">
        <div class="task-info">
          <input 
            type="checkbox" 
            [checked]="task.completed" 
            (change)="taskService.toggleTask(task.id)" 
          />
          <span class="task-text">{{ task.title }}</span>
        </div>
        
        <button class="delete-btn" (click)="taskService.deleteTask(task.id)" aria-label="Delete task">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="3 6 5 6 21 6"></polyline>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
          </svg>
        </button>
      </li>
    } @empty {
      <div class="empty-state">
        <p>Your list is empty. Enjoy your day! â˜•</p>
      </div>
    }
  </ul>
</div>